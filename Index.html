<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Organizador BKO - Compartilhado</title>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    
    <!-- XLSX para exporta√ß√£o -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Carlito:wght@400;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Nunito', 'Carlito', sans-serif;
            background: linear-gradient(135deg, #ffffff 0%, #dddde3 100%);
            color: #000000;
            line-height: 1.6;
            min-height: 100vh;
        }

        /* Status de Conex√£o */
        .connection-status {
            position: fixed;
            top: 10px;
            right: 10px;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .status-online {
            background: #4caf50;
            color: white;
        }

        .status-offline {
            background: #e32d00;
            color: white;
        }

        .status-connecting {
            background: #ff9800;
            color: white;
        }

        .pulse {
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.3; }
            100% { opacity: 1; }
        }

        /* Loading Overlay */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.95);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.3s ease;
        }

        .loading-overlay.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .loader {
            width: 50px;
            height: 50px;
            border: 5px solid #e6e2df;
            border-top: 5px solid #001f9d;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px;
        }

        h1, h2, h3, h4 {
            font-family: 'Carlito', Nunito, serif;
            font-weight: bold;
            color: #000000;
            margin-bottom: 15px;
        }

        .page {
            display: none;
            animation: fadeIn 0.3s ease-in;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .main-title {
            text-align: center;
            margin-bottom: 50px;
            font-size: 2.8rem;
            font-weight: bold;
            background: linear-gradient(135deg, #001f9d 0%, #0176c4 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 40px;
        }

        .card {
            background: #ffffff;
            border: none;
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            min-height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #001f9d, #0176c4);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .card:hover::before {
            transform: scaleX(1);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 183, 213, 0.2);
        }

        .avatar {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #001f9d, #0176c4);
            color: #ffffff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 20px;
            font-family: 'Carlito', serif;
            box-shadow: 0 4px 10px rgba(0, 183, 213, 0.3);
        }

        .card-title {
            font-family: 'Carlito', serif;
            font-size: 22px;
            font-weight: bold;
            color: #000000;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
            padding-bottom: 25px;
            border-bottom: 2px solid #e6e2df;
        }

        .page-title {
            font-size: 2.2rem;
            font-weight: bold;
            background: linear-gradient(135deg, #001f9d 0%, #0176c4 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .back-btn {
            background: linear-gradient(135deg, #001f9d, #0176c4);
            color: #ffffff;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Nunito', sans-serif;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 183, 213, 0.3);
        }

        .back-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 183, 213, 0.4);
        }

        .section {
            margin-bottom: 40px;
            background: #ffffff;
            border: none;
            border-radius: 20px;
            padding: 35px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        }

        .section-title {
            font-size: 1.6rem;
            margin-bottom: 25px;
            font-weight: bold;
            font-family: 'Carlito', serif;
            color: #000000;
            border-bottom: 2px solid #e6e2df;
            padding-bottom: 10px;
        }

        .input-group {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .input-group input, 
        .input-group textarea {
            flex: 1;
            padding: 14px 18px;
            border: 2px solid #e6e2df;
            border-radius: 12px;
            font-family: 'Nunito', 'Carlito', sans-serif;
            font-size: 14px;
            min-width: 200px;
            transition: all 0.3s ease;
            background: #ffffff;
        }

        .input-group input:focus,
        .input-group textarea:focus {
            outline: none;
            border-color: #001f9d;
            box-shadow: 0 0 0 3px rgba(0, 183, 213, 0.1);
        }

        .input-group textarea {
            resize: vertical;
            min-height: 80px;
        }

        .add-btn {
            background: linear-gradient(135deg, #001f9d, #0176c4);
            color: #ffffff;
            border: none;
            padding: 14px 30px;
            border-radius: 12px;
            cursor: pointer;
            font-family: 'Nunito', sans-serif;
            font-weight: 600;
            white-space: nowrap;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 183, 213, 0.3);
        }

        .add-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 183, 213, 0.4);
        }

        .todo-columns {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
        }

        .todo-column {
            background: #f9f9f9;
            border-radius: 15px;
            padding: 25px;
            min-height: 300px;
        }

        .column-title {
            text-align: center;
            margin-bottom: 25px;
            font-size: 1.3rem;
            font-weight: bold;
            font-family: 'Carlito', serif;
            color: #000000;
        }

        .todo-item, .note-item {
            background: #ffffff;
            border: none;
            border-radius: 12px;
            padding: 18px;
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            border-left: 4px solid #001f9d;
            position: relative;
        }

        .todo-item:hover, .note-item:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .item-title {
            font-family: 'Carlito', serif;
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 17px;
            color: #000000;
        }

        .item-description {
            font-size: 14px;
            margin-bottom: 12px;
            color: #666;
            line-height: 1.5;
        }

        .item-deadline {
            font-weight: 600;
            color: #e32d00;
            font-size: 13px;
            margin-bottom: 12px;
            display: inline-block;
            padding: 4px 10px;
            background: rgba(227, 45, 0, 0.1);
            border-radius: 6px;
        }

        .complete-btn {
            background: linear-gradient(135deg, #4caf50, #45a049);
            color: white;
            border: none;
            padding: 10px 18px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(76, 175, 80, 0.3);
        }

        .complete-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(76, 175, 80, 0.4);
        }

        .link-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 18px;
            border: none;
            border-radius: 12px;
            margin-bottom: 15px;
            background: #ffffff;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            border-left: 4px solid #001f9d;
        }

        .link-item:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .link-item a {
            color: #001f9d;
            text-decoration: none;
            font-weight: 600;
            flex: 1;
            transition: color 0.3s ease;
        }

        .link-item a:hover {
            color: #0095b3;
            text-decoration: underline;
        }

        .delete-btn {
            background: linear-gradient(135deg, #e32d00, #c52600);
            color: white;
            border: none;
            padding: 10px 18px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(227, 45, 0, 0.3);
        }

        .delete-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(227, 45, 0, 0.4);
        }

        .export-btn {
            background: linear-gradient(135deg, #4caf50, #45a049);
            color: white;
            border: none;
            padding: 14px 35px;
            border-radius: 12px;
            cursor: pointer;
            font-family: 'Nunito', sans-serif;
            font-weight: 600;
            margin-bottom: 30px;
            font-size: 16px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(76, 175, 80, 0.3);
        }

        .export-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(76, 175, 80, 0.4);
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .form-row input {
            padding: 12px 16px;
            border: 2px solid #e6e2df;
            border-radius: 10px;
            font-family: 'Nunito', 'Carlito', sans-serif;
            font-size: 14px;
            transition: all 0.3s ease;
            background: #ffffff;
        }

        .form-row input:focus {
            outline: none;
            border-color: #001f9d;
            box-shadow: 0 0 0 3px rgba(0, 183, 213, 0.1);
        }

        .table-container {
            overflow-x: auto;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            min-width: 800px;
            background: #ffffff;
            border-radius: 12px;
            overflow: hidden;
        }

        th, td {
            border: none;
            padding: 14px;
            text-align: left;
            font-size: 14px;
        }

        th {
            background: linear-gradient(135deg, #001f9d, #0176c4);
            color: #ffffff;
            font-family: 'Carlito', serif;
            font-weight: bold;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        tbody tr {
            border-bottom: 1px solid #e6e2df;
        }

        tbody tr:nth-child(even) {
            background: #f9f9f9;
        }

        tbody tr:hover {
            background: rgba(0, 183, 213, 0.05);
        }

        tbody tr:last-child {
            border-bottom: none;
        }

        .emoji-icon {
            font-size: 36px;
            margin-bottom: 5px;
        }

        .sync-indicator {
            position: absolute;
            top: 5px;
            right: 5px;
            font-size: 10px;
            color: #4caf50;
            opacity: 0;
            animation: fadeInOut 2s ease;
        }

        @keyframes fadeInOut {
            0%, 100% { opacity: 0; }
            50% { opacity: 1; }
        }

        @media (max-width: 768px) {
            .grid {
                grid-template-columns: 1fr;
            }
            
            .todo-columns {
                grid-template-columns: 1fr;
            }
            
            .input-group {
                flex-direction: column;
            }
            
            .input-group input,
            .input-group textarea {
                min-width: auto;
            }
            
            .header {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }

            .main-title, .page-title {
                font-size: 1.8rem;
            }
        }

        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }

        ::-webkit-scrollbar-track {
            background: #e6e2df;
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #001f9d, #0176c4);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #0176c4, #001f9d);
        }

        /* Setup Modal */
        .setup-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
        }

        .setup-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .setup-title {
            font-size: 1.8rem;
            margin-bottom: 20px;
            text-align: center;
            color: #001f9d;
        }

        .setup-step {
            margin-bottom: 20px;
        }

        .setup-step h3 {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: #333;
        }

        .setup-step p {
            margin-bottom: 10px;
            line-height: 1.6;
        }

        .setup-step code {
            background: #f5f5f5;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 14px;
        }

        .config-input {
            width: 100%;
            padding: 12px;
            margin: 5px 0;
            border: 2px solid #e6e2df;
            border-radius: 8px;
            font-family: monospace;
            font-size: 14px;
        }

        .setup-button {
            background: linear-gradient(135deg, #001f9d, #0176c4);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            width: 100%;
            margin-top: 20px;
        }

        .setup-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 31, 157, 0.3);
        }
    </style>
</head>
<body>
    <!-- Status de Conex√£o -->
    <div id="connectionStatus" class="connection-status status-connecting">
        <div class="pulse"></div>
        <span id="statusText">Conectando...</span>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="loader"></div>
        <p style="margin-top: 20px; color: #666;">Carregando dados...</p>
    </div>

    <!-- Setup Modal -->
    <div id="setupModal" class="setup-modal" style="display: none;">
        <div class="setup-content">
            <h2 class="setup-title">üöÄ Configura√ß√£o do Firebase</h2>
            
            <div class="setup-step">
                <h3>Passo 1: Criar projeto no Firebase</h3>
                <p>1. Acesse <a href="https://console.firebase.google.com" target="_blank">console.firebase.google.com</a></p>
                <p>2. Clique em "Adicionar projeto"</p>
                <p>3. D√™ um nome (ex: "organizador-bko")</p>
                <p>4. Desative o Google Analytics (n√£o √© necess√°rio)</p>
                <p>5. Clique em "Criar projeto"</p>
            </div>

            <div class="setup-step">
                <h3>Passo 2: Configurar Realtime Database</h3>
                <p>1. No menu lateral, clique em "Realtime Database"</p>
                <p>2. Clique em "Criar banco de dados"</p>
                <p>3. Escolha uma localiza√ß√£o (preferencialmente "us-central1")</p>
                <p>4. Escolha "Iniciar no modo de teste" (para facilitar)</p>
                <p>5. Clique em "Ativar"</p>
            </div>

            <div class="setup-step">
                <h3>Passo 3: Obter configura√ß√µes</h3>
                <p>1. Clique na engrenagem ‚öôÔ∏è > "Configura√ß√µes do projeto"</p>
                <p>2. Role at√© "Seus aplicativos" e clique em "&lt;/&gt;" (Web)</p>
                <p>3. Registre o app com um nome (ex: "BKO Web")</p>
                <p>4. Copie as configura√ß√µes que aparecerem</p>
            </div>

            <div class="setup-step">
                <h3>Passo 4: Cole as configura√ß√µes abaixo</h3>
                <input type="text" id="apiKey" class="config-input" placeholder="apiKey">
                <input type="text" id="authDomain" class="config-input" placeholder="authDomain">
                <input type="text" id="databaseURL" class="config-input" placeholder="databaseURL">
                <input type="text" id="projectId" class="config-input" placeholder="projectId">
                <input type="text" id="storageBucket" class="config-input" placeholder="storageBucket">
                <input type="text" id="messagingSenderId" class="config-input" placeholder="messagingSenderId">
                <input type="text" id="appId" class="config-input" placeholder="appId">
            </div>

            <button class="setup-button" onclick="saveFirebaseConfig()">üíæ Salvar e Conectar</button>
            
            <p style="margin-top: 20px; font-size: 12px; color: #666; text-align: center;">
                üí° Ap√≥s configurar, compartilhe este link com sua equipe. Todos ver√£o as mesmas informa√ß√µes em tempo real!
            </p>
        </div>
    </div>

    <!-- P√°gina inicial -->
    <div id="home" class="page active">
        <div class="container">
            <h1 class="main-title">üöÄ Organizador BKO - Compartilhado</h1>
            
            <div class="grid">
                <div class="card" onclick="showPage('jaqueline')">
                    <div class="avatar">J</div>
                    <div class="card-title">Jaqueline</div>
                </div>
                
                <div class="card" onclick="showPage('giovana')">
                    <div class="avatar">G</div>
                    <div class="card-title">Giovana Araujo</div>
                </div>
                
                <div class="card" onclick="showPage('amaral')">
                    <div class="avatar">A</div>
                    <div class="card-title">Giovanna Amaral</div>
                </div>
                
                <div class="card" onclick="showPage('vinicius')">
                    <div class="avatar">V</div>
                    <div class="card-title">Vinicius</div>
                </div>
                
                <div class="card" onclick="showPage('links')">
                    <div class="avatar">
                        <span class="emoji-icon">üîó</span>
                    </div>
                    <div class="card-title">Links</div>
                </div>
                
                <div class="card" onclick="showPage('envio-diario')">
                    <div class="avatar">
                        <span class="emoji-icon">üìä</span>
                    </div>
                    <div class="card-title">Envio Di√°rio</div>
                </div>
            </div>
        </div>
    </div>

    <!-- P√°ginas individuais (Jaqueline, Giovana, Amaral, Vinicius) -->
    <div id="jaqueline" class="page">
        <div class="container">
            <div class="header">
                <h2 class="page-title">üå∏ Organizador - Jaqueline</h2>
                <button class="back-btn" onclick="showPage('home')">‚Üê Voltar ao In√≠cio</button>
            </div>
            
            <div class="section">
                <h3 class="section-title">üìã Lista de Afazeres</h3>
                <div class="input-group">
                    <input type="text" id="jaqueline-todo-title" placeholder="T√≠tulo do afazer">
                    <textarea id="jaqueline-todo-desc" placeholder="Descri√ß√£o detalhada"></textarea>
                    <input type="date" id="jaqueline-todo-date" placeholder="Prazo">
                    <button class="add-btn" onclick="addTodo('jaqueline')">+ Adicionar</button>
                </div>
                
                <div class="todo-columns">
                    <div class="todo-column">
                        <h4 class="column-title">‚è≥ Pendentes</h4>
                        <div id="jaqueline-pending-todos"></div>
                    </div>
                    <div class="todo-column">
                        <h4 class="column-title">‚úÖ Conclu√≠dos</h4>
                        <div id="jaqueline-completed-todos"></div>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h3 class="section-title">üìù Anota√ß√µes</h3>
                <div class="input-group">
                    <input type="text" id="jaqueline-note-title" placeholder="T√≠tulo da anota√ß√£o">
                    <textarea id="jaqueline-note-content" placeholder="Conte√∫do da anota√ß√£o"></textarea>
                    <button class="add-btn" onclick="addNote('jaqueline')">+ Adicionar</button>
                </div>
                <div id="jaqueline-notes"></div>
            </div>
        </div>
    </div>

    <div id="giovana" class="page">
        <div class="container">
            <div class="header">
                <h2 class="page-title">üå∏ Organizador - Giovana Araujo</h2>
                <button class="back-btn" onclick="showPage('home')">‚Üê Voltar ao In√≠cio</button>
            </div>
            
            <div class="section">
                <h3 class="section-title">üìã Lista de Afazeres</h3>
                <div class="input-group">
                    <input type="text" id="giovana-todo-title" placeholder="T√≠tulo do afazer">
                    <textarea id="giovana-todo-desc" placeholder="Descri√ß√£o detalhada"></textarea>
                    <input type="date" id="giovana-todo-date" placeholder="Prazo">
                    <button class="add-btn" onclick="addTodo('giovana')">+ Adicionar</button>
                </div>
                
                <div class="todo-columns">
                    <div class="todo-column">
                        <h4 class="column-title">‚è≥ Pendentes</h4>
                        <div id="giovana-pending-todos"></div>
                    </div>
                    <div class="todo-column">
                        <h4 class="column-title">‚úÖ Conclu√≠dos</h4>
                        <div id="giovana-completed-todos"></div>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h3 class="section-title">üìù Anota√ß√µes</h3>
                <div class="input-group">
                    <input type="text" id="giovana-note-title" placeholder="T√≠tulo da anota√ß√£o">
                    <textarea id="giovana-note-content" placeholder="Conte√∫do da anota√ß√£o"></textarea>
                    <button class="add-btn" onclick="addNote('giovana')">+ Adicionar</button>
                </div>
                <div id="giovana-notes"></div>
            </div>
        </div>
    </div>

    <div id="amaral" class="page">
        <div class="container">
            <div class="header">
                <h2 class="page-title">üå∏ Organizador - Giovanna Amaral</h2>
                <button class="back-btn" onclick="showPage('home')">‚Üê Voltar ao In√≠cio</button>
            </div>
            
            <div class="section">
                <h3 class="section-title">üìã Lista de Afazeres</h3>
                <div class="input-group">
                    <input type="text" id="amaral-todo-title" placeholder="T√≠tulo do afazer">
                    <textarea id="amaral-todo-desc" placeholder="Descri√ß√£o detalhada"></textarea>
                    <input type="date" id="amaral-todo-date" placeholder="Prazo">
                    <button class="add-btn" onclick="addTodo('amaral')">+ Adicionar</button>
                </div>
                
                <div class="todo-columns">
                    <div class="todo-column">
                        <h4 class="column-title">‚è≥ Pendentes</h4>
                        <div id="amaral-pending-todos"></div>
                    </div>
                    <div class="todo-column">
                        <h4 class="column-title">‚úÖ Conclu√≠dos</h4>
                        <div id="amaral-completed-todos"></div>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h3 class="section-title">üìù Anota√ß√µes</h3>
                <div class="input-group">
                    <input type="text" id="amaral-note-title" placeholder="T√≠tulo da anota√ß√£o">
                    <textarea id="amaral-note-content" placeholder="Conte√∫do da anota√ß√£o"></textarea>
                    <button class="add-btn" onclick="addNote('amaral')">+ Adicionar</button>
                </div>
                <div id="amaral-notes"></div>
            </div>
        </div>
    </div>

    <div id="vinicius" class="page">
        <div class="container">
            <div class="header">
                <h2 class="page-title">üå∏ Organizador - Vinicius</h2>
                <button class="back-btn" onclick="showPage('home')">‚Üê Voltar ao In√≠cio</button>
            </div>
            
            <div class="section">
                <h3 class="section-title">üìã Lista de Afazeres</h3>
                <div class="input-group">
                    <input type="text" id="vinicius-todo-title" placeholder="T√≠tulo do afazer">
                    <textarea id="vinicius-todo-desc" placeholder="Descri√ß√£o detalhada"></textarea>
                    <input type="date" id="vinicius-todo-date" placeholder="Prazo">
                    <button class="add-btn" onclick="addTodo('vinicius')">+ Adicionar</button>
                </div>
                
                <div class="todo-columns">
                    <div class="todo-column">
                        <h4 class="column-title">‚è≥ Pendentes</h4>
                        <div id="vinicius-pending-todos"></div>
                    </div>
                    <div class="todo-column">
                        <h4 class="column-title">‚úÖ Conclu√≠dos</h4>
                        <div id="vinicius-completed-todos"></div>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h3 class="section-title">üìù Anota√ß√µes</h3>
                <div class="input-group">
                    <input type="text" id="vinicius-note-title" placeholder="T√≠tulo da anota√ß√£o">
                    <textarea id="vinicius-note-content" placeholder="Conte√∫do da anota√ß√£o"></textarea>
                    <button class="add-btn" onclick="addNote('vinicius')">+ Adicionar</button>
                </div>
                <div id="vinicius-notes"></div>
            </div>
        </div>
    </div>

    <!-- P√°gina de Links -->
    <div id="links" class="page">
        <div class="container">
            <div class="header">
                <h2 class="page-title">üîó Gerenciar Links</h2>
                <button class="back-btn" onclick="showPage('home')">‚Üê Voltar ao In√≠cio</button>
            </div>
            
            <div class="section">
                <h3 class="section-title">‚ûï Adicionar Novo Link</h3>
                <div class="input-group">
                    <input type="text" id="link-title" placeholder="T√≠tulo do link">
                    <input type="url" id="link-url" placeholder="URL (ex: https://exemplo.com)">
                    <button class="add-btn" onclick="addLink()">+ Adicionar</button>
                </div>
                
                <h3 class="section-title">üìå Links Salvos</h3>
                <div id="links-list"></div>
            </div>
        </div>
    </div>

    <!-- P√°gina de Envio Di√°rio -->
    <div id="envio-diario" class="page">
        <div class="container">
            <div class="header">
                <h2 class="page-title">üìä Envio Di√°rio</h2>
                <button class="back-btn" onclick="showPage('home')">‚Üê Voltar ao In√≠cio</button>
            </div>
            
            <div class="section">
                <button class="export-btn" onclick="exportToExcel()">üì• Exportar para Excel</button>
                
                <h3 class="section-title">‚ûï Adicionar Novo Registro</h3>
                <div class="form-row">
                    <input type="text" id="protocolo" placeholder="Protocolo">
                    <input type="text" id="cpf" placeholder="CPF">
                    <input type="text" id="cliente" placeholder="Nome do cliente ou @">
                    <input type="date" id="data-abertura">
                    <input type="text" id="responsavel" placeholder="Respons√°vel">
                    <input type="text" id="assunto" placeholder="Assunto">
                    <input type="text" id="area" placeholder="√Årea">
                    <input type="text" id="relato" placeholder="Breve relato">
                </div>
                <button class="add-btn" onclick="addRecord()">+ Adicionar Registro</button>
                
                <div class="table-container">
                    <table id="records-table">
                        <thead>
                            <tr>
                                <th>Protocolo</th>
                                <th>CPF</th>
                                <th>Nome/Cliente</th>
                                <th>Data Abertura</th>
                                <th>Respons√°vel</th>
                                <th>Assunto</th>
                                <th>√Årea</th>
                                <th>Breve Relato</th>
                                <th>A√ß√µes</th>
                            </tr>
                        </thead>
                        <tbody id="records-body">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Configura√ß√£o do Firebase
        let database = null;
        let firebaseConfig = null;

        // Verificar se j√° existe configura√ß√£o salva
        const savedConfig = localStorage.getItem('firebaseConfig');
        if (savedConfig) {
            firebaseConfig = JSON.parse(savedConfig);
            initializeFirebase();
        } else {
            // Mostrar modal de configura√ß√£o
            document.getElementById('setupModal').style.display = 'flex';
            document.getElementById('loadingOverlay').classList.add('hidden');
        }

        function saveFirebaseConfig() {
            const config = {
                apiKey: document.getElementById('apiKey').value,
                authDomain: document.getElementById('authDomain').value,
                databaseURL: document.getElementById('databaseURL').value,
                projectId: document.getElementById('projectId').value,
                storageBucket: document.getElementById('storageBucket').value,
                messagingSenderId: document.getElementById('messagingSenderId').value,
                appId: document.getElementById('appId').value
            };

            // Validar configura√ß√£o
            if (!config.apiKey || !config.databaseURL || !config.projectId) {
                alert('Por favor, preencha pelo menos apiKey, databaseURL e projectId');
                return;
            }

            localStorage.setItem('firebaseConfig', JSON.stringify(config));
            firebaseConfig = config;
            document.getElementById('setupModal').style.display = 'none';
            initializeFirebase();
        }

        function initializeFirebase() {
            try {
                // Inicializar Firebase
                firebase.initializeApp(firebaseConfig);
                database = firebase.database();

                // Configurar listeners
                setupListeners();

                // Atualizar status
                updateConnectionStatus('online');
                
                // Monitorar conex√£o
                firebase.database().ref('.info/connected').on('value', (snapshot) => {
                    if (snapshot.val() === true) {
                        updateConnectionStatus('online');
                    } else {
                        updateConnectionStatus('offline');
                    }
                });

                // Esconder loading
                setTimeout(() => {
                    document.getElementById('loadingOverlay').classList.add('hidden');
                }, 1000);

            } catch (error) {
                console.error('Erro ao inicializar Firebase:', error);
                alert('Erro ao conectar com o Firebase. Verifique as configura√ß√µes.');
                localStorage.removeItem('firebaseConfig');
                location.reload();
            }
        }

        function updateConnectionStatus(status) {
            const statusEl = document.getElementById('connectionStatus');
            const statusText = document.getElementById('statusText');
            
            statusEl.className = 'connection-status';
            
            switch(status) {
                case 'online':
                    statusEl.classList.add('status-online');
                    statusText.textContent = 'Online';
                    break;
                case 'offline':
                    statusEl.classList.add('status-offline');
                    statusText.textContent = 'Offline';
                    break;
                default:
                    statusEl.classList.add('status-connecting');
                    statusText.textContent = 'Conectando...';
            }
        }

        function setupListeners() {
            // Listeners para cada pessoa
            ['jaqueline', 'giovana', 'amaral', 'vinicius'].forEach(person => {
                // Todos
                database.ref(`users/${person}/todos`).on('value', (snapshot) => {
                    const todos = snapshot.val() || {};
                    renderTodos(person, Object.values(todos));
                });

                // Notes
                database.ref(`users/${person}/notes`).on('value', (snapshot) => {
                    const notes = snapshot.val() || {};
                    renderNotes(person, Object.values(notes));
                });
            });

            // Links
            database.ref('links').on('value', (snapshot) => {
                const links = snapshot.val() || {};
                renderLinks(Object.values(links));
            });

            // Records
            database.ref('records').on('value', (snapshot) => {
                const records = snapshot.val() || {};
                renderRecords(Object.values(records));
            });
        }

        // Navega√ß√£o entre p√°ginas
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
        }

        // Fun√ß√µes para To-Do List
        function addTodo(person) {
            const title = document.getElementById(`${person}-todo-title`).value.trim();
            const desc = document.getElementById(`${person}-todo-desc`).value.trim();
            const date = document.getElementById(`${person}-todo-date`).value;
            
            if (!title) {
                alert('Por favor, insira um t√≠tulo para o afazer!');
                return;
            }
            
            const todo = {
                id: Date.now(),
                title,
                description: desc,
                deadline: date,
                completed: false,
                createdAt: new Date().toISOString()
            };
            
            // Salvar no Firebase
            database.ref(`users/${person}/todos/${todo.id}`).set(todo);
            
            // Limpar campos
            document.getElementById(`${person}-todo-title`).value = '';
            document.getElementById(`${person}-todo-desc`).value = '';
            document.getElementById(`${person}-todo-date`).value = '';
        }

        function completeTodo(person, id) {
            database.ref(`users/${person}/todos/${id}`).update({
                completed: true,
                completedAt: new Date().toISOString()
            });
        }

        function deleteTodo(person, id) {
            database.ref(`users/${person}/todos/${id}`).remove();
        }

        function renderTodos(person, todos) {
            const pendingContainer = document.getElementById(`${person}-pending-todos`);
            const completedContainer = document.getElementById(`${person}-completed-todos`);
            
            if (!pendingContainer || !completedContainer) return;
            
            pendingContainer.innerHTML = '';
            completedContainer.innerHTML = '';
            
            todos.forEach(todo => {
                const todoElement = document.createElement('div');
                todoElement.className = 'todo-item';
                
                let deadlineText = '';
                if (todo.deadline) {
                    const deadlineDate = new Date(todo.deadline);
                    const today = new Date();
                    const isOverdue = deadlineDate < today && !todo.completed;
                    deadlineText = `<div class="item-deadline ${isOverdue ? 'overdue' : ''}">
                        üìÖ Prazo: ${deadlineDate.toLocaleDateString('pt-BR')}
                        ${isOverdue ? ' ‚ö†Ô∏è ATRASADO' : ''}
                    </div>`;
                }
                
                const createdDate = new Date(todo.createdAt).toLocaleDateString('pt-BR');
                const completedDate = todo.completedAt ? new Date(todo.completedAt).toLocaleDateString('pt-BR') : '';
                
                todoElement.innerHTML = `
                    <div class="sync-indicator">‚úì Sincronizado</div>
                    <div class="item-title">${todo.title}</div>
                    ${todo.description ? `<div class="item-description">${todo.description}</div>` : ''}
                    ${deadlineText}
                    <div style="display: flex; gap: 10px; margin-top: 10px;">
                        ${!todo.completed ? `<button class="complete-btn" onclick="completeTodo('${person}', ${todo.id})">‚úî Concluir</button>` : ''}
                        <button class="delete-btn" onclick="deleteTodo('${person}', ${todo.id})">üóë Excluir</button>
                    </div>
                    ${todo.completed ? `<div style="font-size: 12px; color: #666; margin-top: 8px;">‚úÖ Conclu√≠do em: ${completedDate}</div>` : ''}
                `;
                
                if (todo.completed) {
                    completedContainer.appendChild(todoElement);
                } else {
                    pendingContainer.appendChild(todoElement);
                }
            });
        }

        // Fun√ß√µes para Anota√ß√µes
        function addNote(person) {
            const title = document.getElementById(`${person}-note-title`).value.trim();
            const content = document.getElementById(`${person}-note-content`).value.trim();
            
            if (!title) {
                alert('Por favor, insira um t√≠tulo para a anota√ß√£o!');
                return;
            }
            
            const note = {
                id: Date.now(),
                title,
                content,
                createdAt: new Date().toISOString()
            };
            
            // Salvar no Firebase
            database.ref(`users/${person}/notes/${note.id}`).set(note);
            
            // Limpar campos
            document.getElementById(`${person}-note-title`).value = '';
            document.getElementById(`${person}-note-content`).value = '';
        }

        function deleteNote(person, id) {
            database.ref(`users/${person}/notes/${id}`).remove();
        }

        function renderNotes(person, notes) {
            const container = document.getElementById(`${person}-notes`);
            if (!container) return;
            
            container.innerHTML = '';
            
            notes.forEach(note => {
                const noteElement = document.createElement('div');
                noteElement.className = 'note-item';
                const createdDate = new Date(note.createdAt).toLocaleDateString('pt-BR');
                
                noteElement.innerHTML = `
                    <div class="sync-indicator">‚úì Sincronizado</div>
                    <div class="item-title">${note.title}</div>
                    ${note.content ? `<div class="item-description">${note.content}</div>` : ''}
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 10px;">
                        <div style="font-size: 12px; color: #666;">üìÖ Criado em: ${createdDate}</div>
                        <button class="delete-btn" onclick="deleteNote('${person}', ${note.id})">üóë Excluir</button>
                    </div>
                `;
                container.appendChild(noteElement);
            });
        }

        // Fun√ß√µes para Links
        function addLink() {
            const title = document.getElementById('link-title').value.trim();
            const url = document.getElementById('link-url').value.trim();
            
            if (!title || !url) {
                alert('Por favor, preencha o t√≠tulo e a URL!');
                return;
            }
            
            let formattedUrl = url;
            if (!url.startsWith('http://') && !url.startsWith('https://')) {
                formattedUrl = 'https://' + url;
            }
            
            const link = {
                id: Date.now(),
                title,
                url: formattedUrl,
                createdAt: new Date().toISOString()
            };
            
            // Salvar no Firebase
            database.ref(`links/${link.id}`).set(link);
            
            // Limpar campos
            document.getElementById('link-title').value = '';
            document.getElementById('link-url').value = '';
        }

        function deleteLink(id) {
            database.ref(`links/${id}`).remove();
        }

        function renderLinks(links) {
            const container = document.getElementById('links-list');
            if (!container) return;
            
            container.innerHTML = '';
            
            if (links.length === 0) {
                container.innerHTML = '<div style="text-align: center; color: #666; padding: 30px; background: #f9f9f9; border-radius: 12px;">üîó Nenhum link adicionado ainda.</div>';
                return;
            }
            
            links.forEach(link => {
                const linkElement = document.createElement('div');
                linkElement.className = 'link-item';
                const createdDate = new Date(link.createdAt).toLocaleDateString('pt-BR');
                
                linkElement.innerHTML = `
                    <div>
                        <a href="${link.url}" target="_blank" rel="noopener noreferrer">üåê ${link.title}</a>
                        <div style="font-size: 12px; color: #666;">${link.url}</div>
                        <div style="font-size: 11px; color: #999;">üìÖ Adicionado em: ${createdDate}</div>
                    </div>
                    <button class="delete-btn" onclick="deleteLink(${link.id})">üóë Excluir</button>
                `;
                container.appendChild(linkElement);
            });
        }

        // Fun√ß√µes para Envio Di√°rio
        function addRecord() {
            const protocolo = document.getElementById('protocolo').value.trim();
            const cpf = document.getElementById('cpf').value.trim();
            const cliente = document.getElementById('cliente').value.trim();
            const dataAbertura = document.getElementById('data-abertura').value;
            const responsavel = document.getElementById('responsavel').value.trim();
            const assunto = document.getElementById('assunto').value.trim();
            const area = document.getElementById('area').value.trim();
            const relato = document.getElementById('relato').value.trim();
            
            if (!protocolo) {
                alert('Por favor, insira pelo menos o protocolo!');
                return;
            }
            
            const record = {
                id: Date.now(),
                protocolo,
                cpf,
                cliente,
                dataAbertura,
                responsavel,
                assunto,
                area,
                relato,
                createdAt: new Date().toISOString()
            };
            
            // Salvar no Firebase
            database.ref(`records/${record.id}`).set(record);
            
            // Limpar campos
            document.getElementById('protocolo').value = '';
            document.getElementById('cpf').value = '';
            document.getElementById('cliente').value = '';
            document.getElementById('data-abertura').value = '';
            document.getElementById('responsavel').value = '';
            document.getElementById('assunto').value = '';
            document.getElementById('area').value = '';
            document.getElementById('relato').value = '';
        }

        function deleteRecord(id) {
            database.ref(`records/${id}`).remove();
        }

        function renderRecords(records) {
            const tbody = document.getElementById('records-body');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            
            if (records.length === 0) {
                tbody.innerHTML = '<tr><td colspan="9" style="text-align: center; color: #666; padding: 30px;">üìä Nenhum registro adicionado ainda.</td></tr>';
                return;
            }
            
            records.forEach(record => {
                const row = document.createElement('tr');
                const dataAbertura = record.dataAbertura ? new Date(record.dataAbertura).toLocaleDateString('pt-BR') : '';
                
                row.innerHTML = `
                    <td>${record.protocolo}</td>
                    <td>${record.cpf}</td>
                    <td>${record.cliente}</td>
                    <td>${dataAbertura}</td>
                    <td>${record.responsavel}</td>
                    <td>${record.assunto}</td>
                    <td>${record.area}</td>
                    <td>${record.relato}</td>
                    <td>
                        <button class="delete-btn" onclick="deleteRecord(${record.id})">üóë</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function exportToExcel() {
            // Obter dados do Firebase
            database.ref('records').once('value', (snapshot) => {
                const records = snapshot.val() || {};
                const recordsArray = Object.values(records);
                
                if (recordsArray.length === 0) {
                    alert('N√£o h√° dados para exportar!');
                    return;
                }
                
                const data = recordsArray.map(record => ({
                    'Protocolo': record.protocolo,
                    'CPF': record.cpf,
                    'Nome/Cliente': record.cliente,
                    'Data Abertura': record.dataAbertura ? new Date(record.dataAbertura).toLocaleDateString('pt-BR') : '',
                    'Respons√°vel': record.responsavel,
                    'Assunto': record.assunto,
                    '√Årea': record.area,
                    'Breve Relato': record.relato,
                    'Data Cria√ß√£o': new Date(record.createdAt).toLocaleDateString('pt-BR')
                }));
                
                const ws = XLSX.utils.json_to_sheet(data);
                
                // Ajustar largura das colunas
                const colWidths = [
                    { wch: 15 }, // Protocolo
                    { wch: 15 }, // CPF
                    { wch: 25 }, // Nome/Cliente
                    { wch: 12 }, // Data Abertura
                    { wch: 20 }, // Respons√°vel
                    { wch: 30 }, // Assunto
                    { wch: 15 }, // √Årea
                    { wch: 40 }, // Breve Relato
                    { wch: 12 }  // Data Cria√ß√£o
                ];
                ws['!cols'] = colWidths;
                
                const wb = XLSX.utils.book_new();
                XLSX.utils.book_append_sheet(wb, ws, "Envio Di√°rio");
                
                const today = new Date().toLocaleDateString('pt-BR').replace(/\//g, '-');
                XLSX.writeFile(wb, `envio-diario-${today}.xlsx`);
                
                alert('Arquivo Excel exportado com sucesso!');
            });
        }
    </script>
</body>
</html>